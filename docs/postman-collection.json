{
  "info": {
    "name": "Mordecai API",
    "description": "Complete Mordecai authentication system with Firebase auth and multi-tenant organization management",
    "version": "2.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register with Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"Password123!\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"displayName\": \"John Doe\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/auth/register",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "auth", "register"]
            },
            "description": "Register a new user with email and password"
          }
        },
        {
          "name": "Login with Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"Password123!\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/auth/login",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "auth", "login"]
            },
            "description": "Login with email and password"
          }
        },
        {
          "name": "Login with Google",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"idToken\": \"{{GOOGLE_ID_TOKEN}}\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/auth/google",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "auth", "google"]
            },
            "description": "Login or register with Google ID token"
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{REFRESH_TOKEN}}\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/auth/refresh",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "auth", "refresh"]
            },
            "description": "Refresh access token using refresh token"
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/auth/me",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "auth", "me"]
            },
            "description": "Get current authenticated user profile"
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/auth/logout",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "auth", "logout"]
            },
            "description": "Logout current user and revoke Firebase tokens"
          }
        },
        {
          "name": "Send Password Reset",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/auth/password-reset",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "auth", "password-reset"]
            },
            "description": "Send password reset email"
          }
        },
        {
          "name": "Verify Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"idToken\": \"{{EMAIL_VERIFICATION_TOKEN}}\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/auth/verify-email",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "auth", "verify-email"]
            },
            "description": "Verify email address with Firebase ID token"
          }
        }
      ]
    },
    {
      "name": "User Management",
      "item": [
        {
          "name": "Get User Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users/profile",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users", "profile"]
            },
            "description": "Get complete user profile (PostgreSQL + Firebase data)"
          }
        },
        {
          "name": "Get Users List (Advanced)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users?page=1&limit=20&sortBy=createdAt&sortOrder=DESC",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (default: 1)"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page (1-100, default: 20)"
                },
                {
                  "key": "systemRole",
                  "value": "",
                  "description": "Filter by system role: super_admin, system_admin, user",
                  "disabled": true
                },
                {
                  "key": "isActive",
                  "value": "",
                  "description": "Filter by status: true/false",
                  "disabled": true
                },
                {
                  "key": "search",
                  "value": "",
                  "description": "Search in email, displayName, systemRole, firebaseUid",
                  "disabled": true
                },
                {
                  "key": "sortBy",
                  "value": "createdAt",
                  "description": "Sort field: createdAt, updatedAt, lastLoginAt, systemRole"
                },
                {
                  "key": "sortOrder",
                  "value": "DESC",
                  "description": "Sort order: ASC, DESC"
                },
                {
                  "key": "includeDeleted",
                  "value": "",
                  "description": "Include soft deleted users: true/false",
                  "disabled": true
                },
                {
                  "key": "dateFrom",
                  "value": "",
                  "description": "Filter users created after this date (ISO format)",
                  "disabled": true
                },
                {
                  "key": "dateTo",
                  "value": "",
                  "description": "Filter users created before this date (ISO format)",
                  "disabled": true
                }
              ]
            },
            "description": "Get paginated list of users with advanced filtering, search, and sorting (system admin only)"
          }
        },
        {
          "name": "Get Users Overview",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users/overview",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users", "overview"]
            },
            "description": "Get dashboard summary with user statistics and distributions (system admin only)"
          }
        },
        {
          "name": "Search Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users?search=john&limit=10",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users"],
              "query": [
                {
                  "key": "search",
                  "value": "john",
                  "description": "Search term"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Limit results"
                }
              ]
            },
            "description": "Search users by email, displayName, or other fields"
          }
        },
        {
          "name": "Filter Users by Role",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users?systemRole=system_admin&sortBy=lastLoginAt&sortOrder=DESC",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users"],
              "query": [
                {
                  "key": "systemRole",
                  "value": "system_admin",
                  "description": "Filter by system role"
                },
                {
                  "key": "sortBy",
                  "value": "lastLoginAt",
                  "description": "Sort by last login"
                },
                {
                  "key": "sortOrder",
                  "value": "DESC",
                  "description": "Descending order"
                }
              ]
            },
            "description": "Filter users by specific role and sort by activity"
          }
        },
        {
          "name": "Get Users by Date Range",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users?dateFrom=2024-01-01&dateTo=2024-12-31&sortBy=createdAt",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users"],
              "query": [
                {
                  "key": "dateFrom",
                  "value": "2024-01-01",
                  "description": "Start date (ISO format)"
                },
                {
                  "key": "dateTo",
                  "value": "2024-12-31",
                  "description": "End date (ISO format)"
                },
                {
                  "key": "sortBy",
                  "value": "createdAt",
                  "description": "Sort by creation date"
                }
              ]
            },
            "description": "Get users created within a specific date range"
          }
        },
        {
          "name": "Get User Organizations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users/{{TARGET_FIREBASE_UID}}/organizations?page=1&limit=20&sortBy=joinedAt&sortOrder=DESC",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users", "{{TARGET_FIREBASE_UID}}", "organizations"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (default: 1)"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page (1-100, default: 20)"
                },
                {
                  "key": "includeInactive",
                  "value": "",
                  "description": "Include inactive memberships: true/false",
                  "disabled": true
                },
                {
                  "key": "role",
                  "value": "",
                  "description": "Filter by role: owner, admin, manager, employee, viewer, guest",
                  "disabled": true
                },
                {
                  "key": "search",
                  "value": "",
                  "description": "Search in organization name, slug, or description",
                  "disabled": true
                },
                {
                  "key": "sortBy",
                  "value": "joinedAt",
                  "description": "Sort field: joinedAt, name, createdAt, role"
                },
                {
                  "key": "sortOrder",
                  "value": "DESC",
                  "description": "Sort order: ASC, DESC"
                }
              ]
            },
            "description": "Get paginated list of organizations for a specific user with advanced filtering, search, and sorting (own user or super admin only)"
          }
        },
        {
          "name": "Update User System Role (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"systemRole\": \"system_admin\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users/{{TARGET_FIREBASE_UID}}/system-role",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users", "{{TARGET_FIREBASE_UID}}", "system-role"]
            },
            "description": "Update user system role (super admin only)"
          }
        },
        {
          "name": "Deactivate User (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users/{{TARGET_FIREBASE_UID}}/deactivate",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users", "{{TARGET_FIREBASE_UID}}", "deactivate"]
            },
            "description": "Deactivate user account (system admin only)"
          }
        },
        {
          "name": "Soft Delete User (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users/{{TARGET_FIREBASE_UID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users", "{{TARGET_FIREBASE_UID}}"]
            },
            "description": "Soft delete user (reversible, admin only)"
          }
        },
        {
          "name": "Restore User (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users/{{TARGET_FIREBASE_UID}}/restore",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users", "{{TARGET_FIREBASE_UID}}", "restore"]
            },
            "description": "Restore soft deleted user (admin only)"
          }
        },
        {
          "name": "Permanently Delete User (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users/{{TARGET_FIREBASE_UID}}/permanent",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users", "{{TARGET_FIREBASE_UID}}", "permanent"]
            },
            "description": "Permanently delete user (IRREVERSIBLE, admin only)"
          }
        },
        {
          "name": "Get Deleted Users (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users/deleted?page=1&limit=20",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users", "deleted"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Get list of soft deleted users (admin only)"
          }
        },
        {
          "name": "Get User Statistics (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/users/stats",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "users", "stats"]
            },
            "description": "Get user statistics including deleted users (system admin only)"
          }
        }
      ]
    },
    {
      "name": "Multi-Tenant Organizations",
      "item": [
        {
          "name": "Create Organization",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Acme Corporation\",\n  \"slug\": \"acme-corp\",\n  \"description\": \"Leading provider of innovative solutions\",\n  \"settings\": {\n    \"features\": {\n      \"userManagement\": true,\n      \"reporting\": true,\n      \"apiAccess\": false\n    },\n    \"branding\": {\n      \"primaryColor\": \"#007bff\",\n      \"logo\": null\n    }\n  },\n  \"contactInfo\": {\n    \"email\": \"contact@acme-corp.com\",\n    \"phone\": \"+1-555-0123\",\n    \"address\": \"123 Business St, City, State 12345\"\n  }\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/organizations",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "organizations"]
            },
            "description": "Create a new organization (user becomes owner)"
          }
        },
        {
          "name": "Create Sub-Organization",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Acme Europe\",\n  \"slug\": \"acme-europe\",\n  \"description\": \"European division of Acme Corporation\",\n  \"parentId\": \"{{PARENT_ORG_ID}}\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/organizations",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "organizations"]
            },
            "description": "Create a sub-organization under a parent organization"
          }
        },
        {
          "name": "Get My Organizations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/organizations/my-organizations",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "organizations", "my-organizations"]
            },
            "description": "Get all organizations the user belongs to"
          }
        },
        {
          "name": "Get Organization Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}"]
            },
            "description": "Get organization details with user membership info"
          }
        },
        {
          "name": "Update Organization",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Acme Corporation Updated\",\n  \"description\": \"Updated description for Acme Corporation\",\n  \"settings\": {\n    \"features\": {\n      \"userManagement\": true,\n      \"reporting\": true,\n      \"apiAccess\": true\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}"]
            },
            "description": "Update organization details (owners/admins only)"
          }
        },
        {
          "name": "Get Organization Dashboard",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/dashboard",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "dashboard"]
            },
            "description": "Get organization dashboard data and statistics"
          }
        },
        {
          "name": "Get Organization Hierarchy",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/hierarchy",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "hierarchy"]
            },
            "description": "Get organization hierarchy with parent and sub-organizations"
          }
        },
        {
          "name": "Get Available Organization Roles",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/roles",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "roles"]
            },
            "description": "Get list of available organization roles with descriptions and default permissions (organization members only)"
          }
        }
      ]
    },
    {
      "name": "Organization Members",
      "item": [
        {
          "name": "Get Organization Members",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/members?page=1&limit=20",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "members"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Items per page"
                },
                {
                  "key": "role",
                  "value": "",
                  "description": "Filter by role: owner, admin, manager, employee, viewer, guest",
                  "disabled": true
                },
                {
                  "key": "search",
                  "value": "",
                  "description": "Search by name or email",
                  "disabled": true
                },
                {
                  "key": "isActive",
                  "value": "",
                  "description": "Filter by active status: true/false",
                  "disabled": true
                }
              ]
            },
            "description": "Get paginated list of organization members with filtering"
          }
        },
        {
          "name": "Invite User to Organization",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userFirebaseUid\": \"firebase-user-uid-here\",\n  \"role\": \"employee\",\n  \"department\": \"Engineering\",\n  \"jobTitle\": \"Software Developer\",\n  \"permissions\": {\n    \"reports\": {\n      \"read\": true,\n      \"write\": false\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/members/invite",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "members", "invite"]
            },
            "description": "Invite a user to join the organization (owners/admins/managers only)"
          }
        },
        {
          "name": "Update User Role",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"manager\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/members/{{USER_FIREBASE_UID}}/role",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "members", "{{USER_FIREBASE_UID}}", "role"]
            },
            "description": "Update a user's role in the organization (owners/admins/managers only)"
          }
        },
        {
          "name": "Remove User from Organization",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/members/{{USER_FIREBASE_UID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "members", "{{USER_FIREBASE_UID}}"]
            },
            "description": "Remove a user from the organization (owners/admins/managers only)"
          }
        },
        {
          "name": "Search Organization Members",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/members?search=john&limit=10",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "members"],
              "query": [
                {
                  "key": "search",
                  "value": "john",
                  "description": "Search term"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Limit results"
                }
              ]
            },
            "description": "Search organization members by name or email"
          }
        },
        {
          "name": "Filter Members by Role",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/members?role=admin&isActive=true",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "members"],
              "query": [
                {
                  "key": "role",
                  "value": "admin",
                  "description": "Filter by role"
                },
                {
                  "key": "isActive",
                  "value": "true",
                  "description": "Filter by active status"
                }
              ]
            },
            "description": "Filter organization members by role and status"
          }
        }
      ]
    },
    {
      "name": "Organization Settings",
      "item": [
        {
          "name": "Get Organization Settings",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/settings",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "settings"]
            },
            "description": "Get organization settings and configuration (owners/admins only)"
          }
        },
        {
          "name": "Update Organization Settings",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"settings\": {\n    \"features\": {\n      \"userManagement\": true,\n      \"reporting\": true,\n      \"apiAccess\": true\n    },\n    \"branding\": {\n      \"primaryColor\": \"#28a745\",\n      \"logo\": \"https://example.com/logo.png\"\n    },\n    \"limits\": {\n      \"maxUsers\": 500,\n      \"maxSubOrgs\": 20\n    }\n  },\n  \"contactInfo\": {\n    \"email\": \"support@acme-corp.com\",\n    \"phone\": \"+1-555-0199\",\n    \"address\": \"456 Updated St, New City, State 54321\"\n  }\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/settings",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "settings"]
            },
            "description": "Update organization settings and contact information (owners/admins only)"
          }
        }
      ]
    },
    {
      "name": "Permission-Based Endpoints",
      "item": [
        {
          "name": "Get Organization Reports",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/reports",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "reports"]
            },
            "description": "Get organization reports (requires reports.read permission)"
          }
        },
        {
          "name": "Get Organization Billing",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/{{TENANT_SLUG}}/billing",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "{{TENANT_SLUG}}", "billing"]
            },
            "description": "Get organization billing information (requires billing.read permission)"
          }
        }
      ]
    },
    {
      "name": "Multi-Tenant Examples",
      "item": [
        {
          "name": "Access via URL Parameter",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/org/acme-corp/dashboard",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "org", "acme-corp", "dashboard"]
            },
            "description": "Access organization via URL parameter (most common)"
          }
        },
        {
          "name": "Access via Header",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              },
              {
                "key": "X-Tenant-ID",
                "value": "acme-corp"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/organizations/dashboard",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "organizations", "dashboard"]
            },
            "description": "Access organization via X-Tenant-ID header"
          }
        },
        {
          "name": "Complete Workflow Example",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/organizations/my-organizations",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "organizations", "my-organizations"]
            },
            "description": "Step 1: Get user's organizations, then use TENANT_SLUG in other requests"
          }
        }
      ]
    },
    {
      "name": "Health Check",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{BASE_URL}}/api/{{API_VERSION}}/health",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "{{API_VERSION}}", "health"]
            },
            "description": "Check API health status"
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}
